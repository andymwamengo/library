<div class="login-container container-xxl container-xl py-5">
  <br />
  <div class="d-flex justify-content-center align-item-center flex-fill">
    <div class="col-sm-4">


      <mat-card class="login-form flex-fill" *ngIf="signUpForm">
        <mat-card-content class="pt-3">

          <form [formGroup]="signUpForm">
            <div class="form-group">
              <mat-form-field appearance="outline">
                <mat-label>Enter Username</mat-label>
                <input matInput placeholder="Enter  Username" formControlName="username"
                  [ngClass]="{ 'is-invalid': submitted && f['username'].errors }" />
                <mat-error *ngIf="submitted && f['username'].errors" class="invalid-feedback">
                  <mat-error *ngIf="f['username'].errors!['required']">username required</mat-error>
                  <mat-error *ngIf="f['username'].errors!['minlength']">
                    username should be not less than 4 characters
                  </mat-error>
                  <mat-error *ngIf="f['username'].errors!['maxlength']">
                    username should be less than 50 characters
                  </mat-error>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline">
                <mat-label>Enter Email</mat-label>
                <input matInput placeholder="Enter  Email" formControlName="email"
                  [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
                <mat-icon matSuffix>email</mat-icon>
                <mat-error *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                  <mat-error *ngIf="f['email'].errors!['required']">Email required</mat-error>
                  <mat-error *ngIf="f['email'].errors!['email']">Enter valid email</mat-error>
                  <mat-error *ngIf="f['email'].errors!['minlength']">
                    email should be not less than 4 characters
                  </mat-error>
                  <mat-error *ngIf="f['email'].errors!['maxlength']">
                    email should be less than 50 characters
                  </mat-error>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline">
                <mat-label>Enter Password</mat-label>
                <input matInput placeholder="Enter Password" [type]="hide ? 'password' : 'text'"
                  formControlName="password" [ngClass]="{ 'is-invalid': submitted && f['password'].errors }" />
                <mat-icon matSuffix (click)="hide = !hide">{{
                  hide ? "visibility_off" : "visibility"
                  }}</mat-icon>
                <mat-error *ngIf="submitted && f['password'].errors">
                  <mat-error *ngIf="f['password'].errors!['required']">Password required</mat-error>
                  <mat-error *ngIf="f['password'].errors!['minlength']">
                    password should be not less than 6 characters
                  </mat-error>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline">
                <mat-label>Confirm Password</mat-label>
                <input matInput placeholder="Enter Password" [type]="hide ? 'password' : 'text'"
                  formControlName="confirmPassword" [ngClass]="{
                    'is-invalid': submitted && f['confirmPassword'].errors
                  }" />
                <mat-icon matSuffix (click)="hide = !hide">{{
                  hide ? "visibility_off" : "visibility"
                  }}</mat-icon>
                <mat-error *ngIf="submitted && f['confirmPassword'].errors">
                  <mat-error *ngIf="f['confirmPassword']?.errors!['required']">Password is required</mat-error>
                  <mat-error *ngIf="f['confirmPassword']?.errors!['mustMatch']">Password don't match</mat-error>
                  <mat-error *ngIf="f['confirmPassword']?.errors!['minlength']">
                    Condirm password should be not less than 6 characters
                  </mat-error>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="text-center text-white pt-3">
              <div class="form-group d-grid">
                <button (click)="onSubmit()" class="btn btn-primary" [disabled]="!signUpForm.valid || isLoading">
                  <span *ngIf="isLoading === true" class="spinner-border spinner-border-lg"></span>
                  <span [hidden]="isLoading === true">
                    <ng-container *ngIf="userId">Update</ng-container>
                    <ng-container *ngIf="!userId">Register</ng-container>
                  </span>
                </button>
              </div>
            </div>
          </form>
        </mat-card-content>
      </mat-card>

      <div class="p-2">
        <div class="p-0 text-left pt-2">
          Don't have Account?
          <b>
            <a [routerLink]="['/auth/login']" class="link-item pr-2"> Sign In </a>
          </b>
        </div>
      </div>
    </div>
  </div>

</div>